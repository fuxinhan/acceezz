{"version":3,"file":"static/js/411.d61ceb97.chunk.js","mappings":"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","sources":["webpack://webapp/./src/Page/UserInfo/index.module.css?d05b","Page/UserInfo/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"UserInfoPage\":\"UserInfo_UserInfoPage__e810E\",\"layout\":\"UserInfo_layout__zZ4UQ\",\"sideMenu\":\"UserInfo_sideMenu__a3RFU\",\"menuItem\":\"UserInfo_menuItem__OYe7J\",\"active\":\"UserInfo_active__VyX9j\",\"arrow\":\"UserInfo_arrow__y3enO\",\"content\":\"UserInfo_content__rGOx-\",\"section\":\"UserInfo_section__4H76F\",\"headerBar\":\"UserInfo_headerBar__femp9\",\"title\":\"UserInfo_title__iQeDo\",\"sub\":\"UserInfo_sub__AnKl3\",\"link\":\"UserInfo_link__ga2a4\",\"profileTop\":\"UserInfo_profileTop__48vwc\",\"leftIntro\":\"UserInfo_leftIntro__iCeAX\",\"nameBlock\":\"UserInfo_nameBlock__7EIAT\",\"name\":\"UserInfo_name__f0+if\",\"location\":\"UserInfo_location__wQ8XV\",\"fieldList\":\"UserInfo_fieldList__EjPt4\",\"fieldRow\":\"UserInfo_fieldRow__KGF-3\",\"fieldLabel\":\"UserInfo_fieldLabel__6Dvvb\",\"fieldValue\":\"UserInfo_fieldValue__EvUrJ\",\"primaryBtn\":\"UserInfo_primaryBtn__lyv1k\",\"card\":\"UserInfo_card__aT8Tp\",\"metaGrid\":\"UserInfo_metaGrid__Fdt8f\",\"metaLabel\":\"UserInfo_metaLabel__RoiiM\",\"metaValue\":\"UserInfo_metaValue__kFyBp\",\"blockTitle\":\"UserInfo_blockTitle__ToraI\",\"inlineForm\":\"UserInfo_inlineForm__XlPlI\",\"modalActions\":\"UserInfo_modalActions__y9IEl\",\"avatarClickable\":\"UserInfo_avatarClickable__6v477\",\"avatarModal\":\"UserInfo_avatarModal__ZVD2q\",\"cropperBody\":\"UserInfo_cropperBody__vSO+J\",\"emptyUploader\":\"UserInfo_emptyUploader__IKNl4\",\"cropBox\":\"UserInfo_cropBox__vJJzx\",\"cropImage\":\"UserInfo_cropImage__8Z677\",\"cropMask\":\"UserInfo_cropMask__vEYyq\",\"controls\":\"UserInfo_controls__Me8N2\",\"scaleRow\":\"UserInfo_scaleRow__CqsM6\",\"scaleLabel\":\"UserInfo_scaleLabel__U5cu9\",\"scaleSlider\":\"UserInfo_scaleSlider__UjZ3b\",\"actionRow\":\"UserInfo_actionRow__1yNl1\"};","import React, { useEffect, useMemo, useState, useRef } from \"react\";\r\nimport style from './index.module.css';\r\nimport { Avatar, Button, Form, Input, DatePicker, Modal, message, Slider, Radio } from 'antd';\r\nimport { CheckCircleTwoTone } from '@ant-design/icons';\r\nimport Utils from \"../../Util/webCofig\";\r\nimport ActionType from \"../../Store/actionType\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst MENU = {\r\n    PROFILE: 'profile',\r\n    PASSWORD: 'password',\r\n    PREFERENCES: 'preferences',\r\n    MEMBERSHIP: 'membership',\r\n    SIGNOUT: 'signout'\r\n};\r\n\r\nfunction readUserFromStorage() {\r\n    try {\r\n        const raw = localStorage.getItem('userInfo');\r\n        if (!raw) return null;\r\n        return JSON.parse(raw);\r\n    } catch { return null; }\r\n}\r\n\r\nfunction toInitialProfile() {\r\n    const stored = readUserFromStorage();\r\n    const info = stored?.user_info || {};\r\n    return {\r\n        username: info.username || 'Member',\r\n        name: info.name || 'Accezz',\r\n        cover_display: info.cover_display || null,\r\n        location: info.location || null,\r\n        date_of_birth: info.date_of_birth || null,\r\n        address: info.address || null,\r\n        phone: info.phone || null,\r\n        preferred_name: info.preferred_name || null,\r\n        communication_preference: info.communication_preference || null,\r\n        favorite_status: info.favorite_status || false,\r\n        hobbies: info.hobbies || null,\r\n        favorite_artist: info.favorite_artist || null,\r\n        coffee_order: info.coffee_order || null,\r\n        dietary_restrictions: info.dietary_restrictions || null\r\n    };\r\n}\r\n\r\nconst UserInfoPage = () => {\r\n    const [active, setActive] = useState(MENU.PROFILE);\r\n    const [profile, setProfile] = useState(toInitialProfile());\r\n    const [editOpen, setEditOpen] = useState(false);\r\n    const [pwdOpen, setPwdOpen] = useState(false);\r\n\r\n    // 头像裁剪弹窗与状态\r\n    const [avatarOpen, setAvatarOpen] = useState(false);\r\n    const [rawImageSrc, setRawImageSrc] = useState(null);\r\n    const [scale, setScale] = useState(1);\r\n    const [offset, setOffset] = useState({ x: 0, y: 0 });\r\n    const dragStateRef = useRef({ dragging: false, startX: 0, startY: 0, originX: 0, originY: 0 });\r\n    const pinchRef = useRef({ startDistance: 0, startScale: 1 });\r\n    const imgRef = useRef(null);\r\n    const fileInputRef = useRef(null);\r\n    const cropBoxRef = useRef(null);\r\n\r\n    const onGetUserInfo = () => {\r\n        Utils.get({\r\n            url: 'api_v1/user/-1/',\r\n            actionType: ActionType().GetUserInfo,\r\n            Success: (data) => {\r\n                setProfile((prev) => ({ ...prev, ...data }))\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        setProfile(toInitialProfile());\r\n        onGetUserInfo()\r\n    }, []);\r\n\r\n    // 修改用户信息\r\n\r\n    const handleEditSubmit = (values) => {\r\n        /* 打印提交字段 */\r\n        // 合并默认值\r\n        const submitted = { ...values };\r\n\r\n        // 控制台输出\r\n        // eslint-disable-next-line no-console\r\n        // console.log('profile_update', submitted);\r\n\r\n        Utils.patch({\r\n            url: '/api_v1/user/-1/',\r\n            data: submitted,\r\n            actionType: ActionType().PatchUserInfo,\r\n            Success: () => {\r\n                onGetUserInfo()\r\n                setProfile(prev => ({ ...prev, ...values }));\r\n                message.success('√');\r\n            }\r\n        })\r\n        setEditOpen(false);\r\n\r\n    };\r\n\r\n    const handlePwdSubmit = (values) => {\r\n        // eslint-disable-next-line no-console\r\n        console.log('change_password', values);\r\n        Utils.post({\r\n            url: 'programmer/set_password/',\r\n            data: values,\r\n            actionType: ActionType().postPassword,\r\n            Success: (data) => {\r\n                message.success('Password changed successfully, please log in again √ ')\r\n                Utils.LogOut()\r\n            },\r\n            Error: () => {\r\n                message.error('X')\r\n            }\r\n        })\r\n        setPwdOpen(false);\r\n    };\r\n\r\n    // const handleProposeSubmit = (values) => {\r\n    //     // eslint-disable-next-line no-console\r\n    //     // console.log('propose_member', values);\r\n    //     message.success('This feature is not yet complete');\r\n    // };\r\n\r\n    const signOut = () => {\r\n        localStorage.clear();\r\n        window.location.reload(true);\r\n    };\r\n\r\n    // 头像相关逻辑\r\n    const onOpenAvatar = () => {\r\n        setAvatarOpen(true);\r\n    };\r\n\r\n    const onPickFile = () => {\r\n        fileInputRef.current?.click();\r\n    };\r\n\r\n    const onFileChange = (e) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n            setRawImageSrc(reader.result);\r\n            setScale(1);\r\n            setOffset({ x: 0, y: 0 });\r\n        };\r\n        reader.readAsDataURL(file);\r\n        // 重置 input 以便可再次选择相同文件\r\n        e.target.value = '';\r\n    };\r\n\r\n    const startDrag = (clientX, clientY) => {\r\n        dragStateRef.current = {\r\n            dragging: true,\r\n            startX: clientX,\r\n            startY: clientY,\r\n            originX: offset.x,\r\n            originY: offset.y\r\n        };\r\n    };\r\n\r\n    const onMouseDown = (e) => {\r\n        e.preventDefault();\r\n        startDrag(e.clientX, e.clientY);\r\n    };\r\n\r\n    const onTouchStart = (e) => {\r\n        const touches = e.touches;\r\n        if (touches.length === 1) {\r\n            // 单指触摸 - 拖拽\r\n            const t = touches[0];\r\n            startDrag(t.clientX, t.clientY);\r\n        } else if (touches.length === 2) {\r\n            // 双指触摸 - 缩放\r\n            const t1 = touches[0];\r\n            const t2 = touches[1];\r\n            const distance = Math.sqrt(\r\n                Math.pow(t2.clientX - t1.clientX, 2) +\r\n                Math.pow(t2.clientY - t1.clientY, 2)\r\n            );\r\n            pinchRef.current = { startDistance: distance, startScale: scale };\r\n        }\r\n    };\r\n\r\n    const doDrag = (clientX, clientY) => {\r\n        const ds = dragStateRef.current;\r\n        if (!ds.dragging) return;\r\n        const dx = clientX - ds.startX;\r\n        const dy = clientY - ds.startY;\r\n\r\n        setOffset({ x: ds.originX + dx, y: ds.originY + dy });\r\n\r\n\r\n\r\n        // // // 计算边界限制\r\n        // const boxSize = cropBoxRef.current?.clientWidth || 320;\r\n        // const img = imgRef.current;\r\n        // if(!img) return;\r\n\r\n        // // 图片实际渲染尺寸\r\n        // const naturalW = img.naturalWidth;\r\n        // const naturalH = img.naturalHeight;\r\n        // const baseScale = Math.max(boxSize / naturalW, boxSize / naturalH);\r\n        // const renderScale = baseScale * scale;\r\n        // const renderW = naturalW * renderScale;\r\n        // const renderH = naturalH * renderScale;\r\n\r\n        // // // 计算边界：图片边缘不能超出裁剪框\r\n        // const maxOffsetX = Math.max(0, (renderW - boxSize) / 2);\r\n        // const maxOffsetY = Math.max(0, (renderH - boxSize) / 2);\r\n\r\n        // // 应用边界限制\r\n        // const newX = clamp(ds.originX + dx, -maxOffsetX, maxOffsetX);\r\n        // const newY = clamp(ds.originY + dy, -maxOffsetY, maxOffsetY);\r\n\r\n        // setOffset({ x: newX, y: newY });\r\n    };\r\n\r\n    const onMouseMove = (e) => {\r\n        doDrag(e.clientX, e.clientY);\r\n    };\r\n\r\n    const onTouchMove = (e) => {\r\n        const touches = e.touches;\r\n        if (touches.length === 1) {\r\n            // 单指触摸 - 拖拽\r\n            const t = touches[0];\r\n            doDrag(t.clientX, t.clientY);\r\n        } else if (touches.length === 2) {\r\n            // 双指触摸 - 缩放\r\n            const t1 = touches[0];\r\n            const t2 = touches[1];\r\n            const distance = Math.sqrt(\r\n                Math.pow(t2.clientX - t1.clientX, 2) +\r\n                Math.pow(t2.clientY - t1.clientY, 2)\r\n            );\r\n\r\n            const { startDistance, startScale } = pinchRef.current;\r\n            if (startDistance > 0) {\r\n                const scaleRatio = distance / startDistance;\r\n                const newScale = clamp(startScale * scaleRatio, 0.5, 4);\r\n                setScale(newScale);\r\n\r\n                // 缩放后重新计算边界限制\r\n                if (imgRef.current && cropBoxRef.current) {\r\n                    const boxSize = cropBoxRef.current.clientWidth;\r\n                    const img = imgRef.current;\r\n                    const naturalW = img.naturalWidth;\r\n                    const naturalH = img.naturalHeight;\r\n                    const baseScale = Math.max(boxSize / naturalW, boxSize / naturalH);\r\n                    const renderScale = baseScale * newScale;\r\n                    const renderW = naturalW * renderScale;\r\n                    const renderH = naturalH * renderScale;\r\n\r\n                    const maxOffsetX = Math.max(0, (renderW - boxSize) / 2);\r\n                    const maxOffsetY = Math.max(0, (renderH - boxSize) / 2);\r\n\r\n                    setOffset(prev => ({\r\n                        x: clamp(prev.x, -maxOffsetX, maxOffsetX),\r\n                        y: clamp(prev.y, -maxOffsetY, maxOffsetY)\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const stopDrag = () => {\r\n        dragStateRef.current.dragging = false;\r\n    };\r\n\r\n    const clamp = (val, min, max) => Math.max(min, Math.min(max, val));\r\n\r\n    // 鼠标滚轮缩放处理\r\n    const onWheel = (e) => {\r\n        e.preventDefault();\r\n        const delta = e.deltaY > 0 ? -0.1 : 0.1;\r\n        const newScale = clamp(scale + delta, 0.5, 4);\r\n        setScale(newScale);\r\n\r\n        // 缩放后重新计算边界限制\r\n        if (imgRef.current && cropBoxRef.current) {\r\n            const boxSize = cropBoxRef.current.clientWidth;\r\n            const img = imgRef.current;\r\n            const naturalW = img.naturalWidth;\r\n            const naturalH = img.naturalHeight;\r\n            const baseScale = Math.max(boxSize / naturalW, boxSize / naturalH);\r\n            const renderScale = baseScale * newScale;\r\n            const renderW = naturalW * renderScale;\r\n            const renderH = naturalH * renderScale;\r\n\r\n            const maxOffsetX = Math.max(0, (renderW - boxSize) / 2);\r\n            const maxOffsetY = Math.max(0, (renderH - boxSize) / 2);\r\n\r\n            setOffset(prev => ({\r\n                x: clamp(prev.x, -maxOffsetX, maxOffsetX),\r\n                y: clamp(prev.y, -maxOffsetY, maxOffsetY)\r\n            }));\r\n        }\r\n    };\r\n\r\n    const performCrop = () => {\r\n        const img = imgRef.current;\r\n        const box = cropBoxRef.current;\r\n        if (!img || !box) return null;\r\n\r\n        const boxSize = box.clientWidth; // 方形\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = boxSize;\r\n        canvas.height = boxSize;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return null;\r\n\r\n        // 图片实际渲染尺寸\r\n        const naturalW = img.naturalWidth;\r\n        const naturalH = img.naturalHeight;\r\n\r\n        // 渲染到容器内时的目标宽高（以容器为基准的缩放）\r\n        // 让图片较短的一边正好与裁剪框同尺寸，再乘以 scale\r\n        const baseScale = Math.max(boxSize / naturalW, boxSize / naturalH);\r\n        const renderScale = baseScale * scale;\r\n        const renderW = naturalW * renderScale;\r\n        const renderH = naturalH * renderScale;\r\n\r\n        // 图片左上角相对裁剪框中心的偏移\r\n        const centerX = boxSize / 2 + offset.x;\r\n        const centerY = boxSize / 2 + offset.y;\r\n        const drawX = centerX - renderW / 2;\r\n        const drawY = centerY - renderH / 2;\r\n\r\n        ctx.clearRect(0, 0, boxSize, boxSize);\r\n        ctx.drawImage(img, drawX, drawY, renderW, renderH);\r\n        return canvas.toDataURL('image/png');\r\n    };\r\n    // 修改头像\r\n    const onSubmitAvatar = () => {\r\n        const dataUrl = performCrop();\r\n        if (!dataUrl) {\r\n            message.error('裁剪失败，请重试');\r\n            return;\r\n        }\r\n        // 将 base64 转换为二进制数据\r\n        const base64Data = dataUrl.split(',')[1]; // 移除 data:image/xxx;base64, 前缀\r\n        const binaryString = atob(base64Data);\r\n        const bytes = new Uint8Array(binaryString.length);\r\n        for (let i = 0; i < binaryString.length; i++) {\r\n            bytes[i] = binaryString.charCodeAt(i);\r\n        }\r\n\r\n        // 创建 Blob 对象\r\n        const blob = new Blob([bytes], { type: 'image/jpeg' });\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"file\", blob, \"avatar.jpg\"); // 使用二进制 blob  \r\n        Utils.post({\r\n            url: \"api_v1/file_upload/\",\r\n            data: formData,\r\n            actionType: ActionType().PostFiles,\r\n            Success: (data) => {\r\n                const fileId = data?.cloud_id\r\n                Utils.patch({\r\n                    url: '/api_v1/user/-1/',\r\n                    data: { cover: fileId },\r\n                    actionType: ActionType().PatchUserInfo,\r\n                    Success: () => {\r\n                        onGetUserInfo()\r\n                        // let stored = readUserFromStorage();\r\n                        // let userSub = {\r\n                        //     ...stored.user_info,\r\n                        // }\r\n                        // stored['user_info'] = userSub\r\n                        // localStorage.setItem(\"userInfo\", JSON.stringify(stored));\r\n                        // // 更新页面状态，立即显示新头像\r\n                        // setProfile(prev => ({ ...prev, }));\r\n\r\n                        // 触发自定义事件，通知 Header 组件更新头像\r\n                        // window.dispatchEvent(new CustomEvent('userAvatarUpdated', {\r\n                        //     detail: { avatar: data.src }\r\n                        // }));\r\n                        // message.success(<CheckCircleTwoTone twoToneColor=\"#52c41a\" />);\r\n                    }\r\n                })\r\n\r\n            },\r\n            Error: (data) => {\r\n                console.log(data)\r\n            }\r\n        })\r\n        // eslint-disable-next-line no-console\r\n        // console.log('submit_avatar', { avatarDataUrl: dataUrl });\r\n\r\n        setAvatarOpen(false);\r\n    };\r\n    //左侧菜单栏\r\n    const SideMenu = useMemo(() => (\r\n        <aside className={style.sideMenu}>\r\n            <div className={active === MENU.PROFILE ? `${style.menuItem} ${style.active}` : style.menuItem} onClick={() => setActive(MENU.PROFILE)}>\r\n                <span>Profile</span>\r\n                <span className={style.arrow}>›</span>\r\n            </div>\r\n            <div className={active === MENU.PASSWORD ? `${style.menuItem} ${style.active}` : style.menuItem} onClick={() => setActive(MENU.PASSWORD)}>\r\n                <span>Change password</span>\r\n                <span className={style.arrow}>›</span>\r\n            </div>\r\n            <div className={active === MENU.PREFERENCES ? `${style.menuItem} ${style.active}` : style.menuItem} onClick={() => setActive(MENU.PREFERENCES)}>\r\n                <span>Preferences</span>\r\n                <span className={style.arrow}>›</span>\r\n            </div>\r\n            <div className={active === MENU.MEMBERSHIP ? `${style.menuItem} ${style.active}` : style.menuItem} onClick={() => setActive(MENU.MEMBERSHIP)}>\r\n                <span>Membership application</span>\r\n                <span className={style.arrow}>›</span>\r\n            </div>\r\n            <div className={style.menuItem} onClick={signOut}>\r\n                <span>Sign out</span>\r\n                <span className={style.arrow}>›</span>\r\n            </div>\r\n        </aside>\r\n    ), [active]);\r\n    // 密码强度验证正则：至少包含大小写字母、数字和特殊字符中的三种\r\n    const passwordStrengthRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\r\n    // 纯数字验证\r\n    const onlyNumberRegex = /^\\d+$/;\r\n    // 纯字母验证\r\n    const onlyLetterRegex = /^[a-zA-Z]+$/;\r\n    return (\r\n        <div className={style.UserInfoPage}>\r\n\r\n            <div className={style.layout}>\r\n                {SideMenu}\r\n                <main className={style.content}>\r\n                    {active === MENU.PROFILE && (\r\n                        <section className={style.section}>\r\n                            <header className={style.headerBar}>\r\n                                <h2 className={style.title}>Profile</h2>\r\n                                <p className={style.sub}>Here, you can edit your phone number and information address. Others cannot see this information.\r\n                                    If your repeated repair fails, please <a className={style.link} href=\"mailto:advisory@theaccezz.com\">Contact us</a></p>\r\n                            </header>\r\n\r\n                            <div className={style.profileTop}>\r\n                                <div className={style.leftIntro}>\r\n                                    <div className={style.avatarClickable} onClick={onOpenAvatar} title=\"点击更换头像\">\r\n                                        <Avatar size={80} src={Utils.returnFileUrl(profile.cover_display)} >{profile.username?.[0]}</Avatar>\r\n                                    </div>\r\n                                    <div className={style.nameBlock}>\r\n                                        <div className={style.name}>{profile.username}</div>\r\n                                        <div className={style.location}>Location: {profile.location || '-'}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={style.fieldList}>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Preferred name</div>\r\n                                    <div className={style.fieldValue}>{profile.preferred_name}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Birthday</div>\r\n                                    <div className={style.fieldValue}>{profile.date_of_birth || '-'}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Location</div>\r\n                                    <div className={style.fieldValue}>{profile.location || '-'}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Phone</div>\r\n                                    <div className={style.fieldValue}>{profile.phone || '-'}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Gender</div>\r\n                                    <div className={style.fieldValue}>{profile.gender || '-'}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Communication preference</div>\r\n                                    <div className={style.fieldValue}>{profile.communication_preference || '-'}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Collecting status </div>\r\n                                    <div className={style.fieldValue}>{profile?.favorite_status && <CheckCircleTwoTone twoToneColor=\"#52c41a\" />}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Interests</div>\r\n                                    <div className={style.fieldValue}>{profile.hobbies || '-'}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Favourite artists</div>\r\n                                    <div className={style.fieldValue}>{profile.favorite_artist || '-'}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}>Coffee order</div>\r\n                                    <div className={style.fieldValue}>{profile.coffee_order || '-'}</div>\r\n                                </div>\r\n                                <div className={style.fieldRow}>\r\n                                    <div className={style.fieldLabel}> Dietary restrictions</div>\r\n                                    <div className={style.fieldValue}>{profile.dietary_restrictions || '-'}</div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <Button className={style.primaryBtn} onClick={() => setEditOpen(true)}>Edit information</Button>\r\n\r\n                            <Modal\r\n                                title=\"Edit profile\"\r\n                                open={editOpen}\r\n                                onCancel={() => setEditOpen(false)}\r\n                                footer={null}\r\n                                destroyOnClose\r\n                            >\r\n                                <Form layout=\"vertical\" initialValues={profile} onFinish={handleEditSubmit}>\r\n                                    <Form.Item label=\"Preferred name\" name=\"preferred_name\" rules={[{ required: true, message: 'Please enter your Preferred name' }]}>\r\n                                        <Input placeholder=\"preferred_name\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        label=\"Date of birth\"\r\n                                        name=\"date_of_birth\"\r\n                                        getValueProps={(value) => ({ value: value ? dayjs(value) : null })}\r\n                                        normalize={(value) => value ? dayjs(value).format('YYYY-MM-DD') : null}\r\n                                    >\r\n                                        <DatePicker style={{ width: '100%' }} />\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Location\" name=\"location\">\r\n                                        <Input placeholder=\"location\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Phone\" name=\"phone\">\r\n                                        <Input placeholder=\"Phone\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Gender\" name=\"gender\">\r\n                                        <Radio.Group>\r\n                                            <Radio value=\"Female\"> Female </Radio>\r\n                                            <Radio value=\"Male\"> Male </Radio>\r\n                                            <Radio value=\"Other\"> Other </Radio>\r\n                                        </Radio.Group>\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Communication preference\" name=\"communication_preference\">\r\n                                        <Input placeholder=\"communication_preference\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Collecting status\" name=\"favorite_status\">\r\n                                        <Radio.Group>\r\n                                            <Radio value={true}> YES </Radio>\r\n                                            <Radio value={false} >NO </Radio>\r\n                                        </Radio.Group>\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Interests\" name=\"hobbies\">\r\n                                        <Input placeholder=\"hobbies\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Favourite artists\" name=\"favorite_artist\">\r\n                                        <Input placeholder=\"favorite_artist\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Coffee order\" name=\"coffee_order\">\r\n                                        <Input placeholder=\"coffee_order\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Dietary restrictions\" name=\"dietary_restrictions\">\r\n                                        <Input placeholder=\"dietary_restrictions\" />\r\n                                    </Form.Item>\r\n                                    <div className={style.modalActions}>\r\n                                        <Button onClick={() => setEditOpen(false)}>Cancel</Button>\r\n                                        <Button type=\"primary\" htmlType=\"submit\">Save</Button>\r\n                                    </div>\r\n                                </Form>\r\n                            </Modal>\r\n\r\n                            {/* 更换头像弹窗 */}\r\n                            <Modal\r\n                                title=\"Change avatar\"\r\n                                open={avatarOpen}\r\n                                onCancel={() => setAvatarOpen(false)}\r\n                                footer={null}\r\n                                destroyOnClose\r\n                                className={style.avatarModal}\r\n                            >\r\n                                <input ref={fileInputRef} type=\"file\" accept=\"image/*\" style={{ display: 'none' }} onChange={onFileChange} />\r\n                                <div className={style.cropperBody}>\r\n                                    {!rawImageSrc ? (\r\n                                        <div className={style.emptyUploader}>\r\n                                            <Button type=\"primary\" onClick={onPickFile}>选择图片</Button>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <>\r\n                                            <div\r\n                                                className={style.cropBox}\r\n                                                ref={cropBoxRef}\r\n                                                onMouseDown={onMouseDown}\r\n                                                onMouseMove={onMouseMove}\r\n                                                onMouseUp={stopDrag}\r\n                                                onMouseLeave={stopDrag}\r\n                                                onTouchStart={onTouchStart}\r\n                                                onTouchMove={onTouchMove}\r\n                                                onTouchEnd={stopDrag}\r\n                                                onWheel={onWheel}\r\n                                            >\r\n                                                <img\r\n                                                    ref={imgRef}\r\n                                                    src={rawImageSrc}\r\n                                                    alt=\"avatar\"\r\n                                                    className={style.cropImage}\r\n                                                    style={{\r\n                                                        transform: `translate(-50%, -50%) translate(${offset.x}px, ${offset.y}px) scale(${scale})`,\r\n                                                    }}\r\n                                                    draggable={false}\r\n                                                />\r\n                                                <div className={style.cropMask} />\r\n                                            </div>\r\n                                            <div className={style.controls}>\r\n                                                <div className={style.scaleRow}>\r\n                                                    <span className={style.scaleLabel}>缩放</span>\r\n                                                    <Slider\r\n                                                        className={style.scaleSlider}\r\n                                                        min={0.1}\r\n                                                        max={4}\r\n                                                        step={0.01}\r\n                                                        value={scale}\r\n                                                        onChange={(v) => {\r\n                                                            const newScale = clamp(v, 0.1, 4);\r\n                                                            setScale(newScale);\r\n\r\n                                                            // 缩放后重新计算边界限制\r\n                                                            if (imgRef.current && cropBoxRef.current) {\r\n                                                                const boxSize = cropBoxRef.current.clientWidth;\r\n                                                                const img = imgRef.current;\r\n                                                                const naturalW = img.naturalWidth;\r\n                                                                const naturalH = img.naturalHeight;\r\n                                                                const baseScale = Math.max(boxSize / naturalW, boxSize / naturalH);\r\n                                                                const renderScale = baseScale * newScale;\r\n                                                                const renderW = naturalW * renderScale;\r\n                                                                const renderH = naturalH * renderScale;\r\n\r\n                                                                const maxOffsetX = Math.max(0, (renderW - boxSize) / 2);\r\n                                                                const maxOffsetY = Math.max(0, (renderH - boxSize) / 2);\r\n\r\n                                                                setOffset(prev => ({\r\n                                                                    x: clamp(prev.x, -maxOffsetX, maxOffsetX),\r\n                                                                    y: clamp(prev.y, -maxOffsetY, maxOffsetY)\r\n                                                                }));\r\n                                                            }\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                                <div className={style.actionRow}>\r\n                                                    <Button onClick={onPickFile}>重新选择</Button>\r\n                                                    <Button type=\"primary\" onClick={onSubmitAvatar}>保存头像</Button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </Modal>\r\n                        </section>\r\n                    )}\r\n\r\n                    {active === MENU.PASSWORD && (\r\n                        <section className={style.section}>\r\n                            <header className={style.headerBar}>\r\n                                <h2 className={style.title}>Change password</h2>\r\n                            </header>\r\n                            <Form layout=\"vertical\" className={style.card} onFinish={handlePwdSubmit}>\r\n                                <Form.Item label=\"Current password\" name=\"old_password\" rules={[{ required: true, message: 'Please enter the current password' }]}>\r\n                                    <Input.Password placeholder=\"Current password\" />\r\n                                </Form.Item>\r\n                                <Form.Item\r\n                                    label=\"New password\"\r\n                                    name=\"new_password\"\r\n                                    rules={[\r\n                                        { required: true, message: 'Please enter a new password' },\r\n                                        { min: 8, message: 'Password must be at least 8 characters' },\r\n                                        { max: 20, message: 'Password cannot exceed 20 characters' },\r\n                                        // 禁止与旧密码相同\r\n                                        ({ getFieldValue }) => ({\r\n                                            validator(_, value) {\r\n                                                if (!value || getFieldValue('old_password') !== value) {\r\n                                                    return Promise.resolve();\r\n                                                }\r\n                                                return Promise.reject(new Error('New password cannot be the same as current password'));\r\n                                            },\r\n                                        }),\r\n                                        // 禁止纯数字\r\n                                        {\r\n                                            validator(_, value) {\r\n                                                if (!value || !onlyNumberRegex.test(value)) {\r\n                                                    return Promise.resolve();\r\n                                                }\r\n                                                return Promise.reject(new Error('Password cannot be all numbers'));\r\n                                            },\r\n                                        },\r\n                                        // 禁止纯字母\r\n                                        {\r\n                                            validator(_, value) {\r\n                                                if (!value || !onlyLetterRegex.test(value)) {\r\n                                                    return Promise.resolve();\r\n                                                }\r\n                                                return Promise.reject(new Error('Password cannot be all letters'));\r\n                                            },\r\n                                        },\r\n                                        // 密码强度验证（可选，根据需求调整）\r\n                                        // {\r\n                                        //     validator(_, value) {\r\n                                        //         if (!value || passwordStrengthRegex.test(value)) {\r\n                                        //             return Promise.resolve();\r\n                                        //         }\r\n                                        //         return Promise.reject(new Error('Password must include at least 3 of: uppercase, lowercase, number, special character'));\r\n                                        //     },\r\n                                        // },\r\n                                    ]}\r\n                                >\r\n                                    <Input.Password placeholder=\"New password\" />\r\n                                </Form.Item>\r\n                                <Form.Item\r\n                                    label=\"Confirm password\"\r\n                                    name=\"confirmPassword\"\r\n                                    dependencies={[\"new_password\"]}\r\n                                    rules={[\r\n                                        { required: true, message: 'Please confirm the password' },\r\n                                        // 添加密码一致性验证规则\r\n                                        ({ getFieldValue }) => ({\r\n                                            validator(_, value) {\r\n                                                if (!value || getFieldValue('new_password') === value) {\r\n                                                    return Promise.resolve();\r\n                                                }\r\n                                                return Promise.reject(new Error('The two passwords that you entered do not match!'));\r\n                                            },\r\n                                        }),\r\n                                    ]}\r\n                                >\r\n                                    <Input.Password placeholder=\"Confirm password\" />\r\n                                </Form.Item>\r\n                                <Button className={style.primaryBtn} htmlType=\"submit\">Update password</Button>\r\n                            </Form>\r\n                        </section>\r\n                    )}\r\n\r\n                    {active === MENU.MEMBERSHIP && (\r\n                        <section className={style.section}>\r\n                            <header className={style.headerBar}>\r\n                                <h2 className={style.title}>Membership application</h2>\r\n                            </header>\r\n                            <div className={style.card}>\r\n                                <div className={style.metaGrid}>\r\n                                    <div><div className={style.metaLabel}>Tier</div><div className={style.metaValue}>{profile?.tier || '--'}</div></div>\r\n                                    <div><div className={style.metaLabel}>Join date</div><div className={style.metaValue}>{profile?.joining_date || '--'}</div></div>\r\n                                    <div><div className={style.metaLabel}>Expiry</div><div className={style.metaValue}>{profile?.expiry || '--'}</div></div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* <div className={style.card}>\r\n                                <div className={style.blockTitle}>Propose a new member</div>\r\n                                <Form layout=\"inline\" onFinish={handleProposeSubmit} className={style.inlineForm}>\r\n                                    <Form.Item name=\"name\" rules={[{ required: true, message: '请输入姓名' }]}>\r\n                                        <Input placeholder=\"Name\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item name=\"email\" rules={[{ required: true, message: '请输入Email' }]}>\r\n                                        <Input placeholder=\"Email\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item>\r\n                                        <Button type=\"primary\" htmlType=\"submit\">Submit</Button>\r\n                                    </Form.Item>\r\n                                </Form>\r\n                            </div> */}\r\n                        </section>\r\n                    )}\r\n\r\n                    {active === MENU.PREFERENCES && (\r\n                        <section className={style.section}>\r\n                            <header className={style.headerBar}>\r\n                                <h2 className={style.title}>Preferences</h2>\r\n                                <p className={style.sub}>You can set your basic preferences here.</p>\r\n                            </header>\r\n                            <div className={style.card}>No preferences yet.</div>\r\n                        </section>\r\n                    )}\r\n                </main>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserInfoPage"],"names":["MENU","toInitialProfile","stored","raw","localStorage","getItem","JSON","parse","_unused","readUserFromStorage","info","user_info","username","name","cover_display","location","date_of_birth","address","phone","preferred_name","communication_preference","favorite_status","hobbies","favorite_artist","coffee_order","dietary_restrictions","UserInfoPage","_profile$username","active","setActive","useState","profile","setProfile","editOpen","setEditOpen","pwdOpen","setPwdOpen","avatarOpen","setAvatarOpen","rawImageSrc","setRawImageSrc","scale","setScale","offset","setOffset","x","y","dragStateRef","useRef","dragging","startX","startY","originX","originY","pinchRef","startDistance","startScale","imgRef","fileInputRef","cropBoxRef","onGetUserInfo","Utils","get","url","actionType","ActionType","GetUserInfo","Success","data","prev","_objectSpread","useEffect","signOut","clear","window","reload","onPickFile","_fileInputRef$current","current","click","startDrag","clientX","clientY","doDrag","ds","dx","dy","stopDrag","clamp","val","min","max","Math","SideMenu","useMemo","_jsxs","className","style","children","concat","onClick","_jsx","onlyNumberRegex","onlyLetterRegex","href","onOpenAvatar","title","Avatar","size","src","returnFileUrl","gender","CheckCircleTwoTone","twoToneColor","Button","Modal","open","onCancel","footer","destroyOnClose","Form","layout","initialValues","onFinish","values","submitted","patch","PatchUserInfo","message","success","Item","label","rules","required","Input","placeholder","getValueProps","value","dayjs","normalize","format","DatePicker","width","Radio","type","htmlType","ref","accept","display","onChange","e","_e$target$files","file","target","files","reader","FileReader","onload","result","readAsDataURL","_Fragment","onMouseDown","preventDefault","onMouseMove","onMouseUp","onMouseLeave","onTouchStart","touches","length","t","t1","t2","distance","sqrt","pow","onTouchMove","newScale","boxSize","clientWidth","img","naturalW","naturalWidth","naturalH","naturalHeight","renderScale","renderW","renderH","maxOffsetX","maxOffsetY","onTouchEnd","onWheel","delta","deltaY","alt","transform","draggable","Slider","step","v","onSubmitAvatar","dataUrl","performCrop","box","canvas","document","createElement","height","ctx","getContext","drawX","drawY","clearRect","drawImage","toDataURL","error","base64Data","split","binaryString","atob","bytes","Uint8Array","i","charCodeAt","blob","Blob","formData","FormData","append","post","PostFiles","fileId","cloud_id","cover","Error","console","log","postPassword","LogOut","Password","_ref","getFieldValue","validator","_","Promise","reject","resolve","test","dependencies","_ref2","tier","joining_date","expiry"],"sourceRoot":""}