{"version":3,"file":"static/js/869.055a0473.chunk.js","mappings":"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","sources":["webpack://webapp/./src/Page/Highlights/index.module.css?d003","Page/Highlights/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"highlightsContainer\":\"Highlights_highlightsContainer__1mN6T\",\"header\":\"Highlights_header__AwU6e\",\"title\":\"Highlights_title__PhCvw\",\"subtitle\":\"Highlights_subtitle__x5G57\",\"carouselContainer\":\"Highlights_carouselContainer__ZNEi+\",\"carouselWrapper\":\"Highlights_carouselWrapper__Of+TT\",\"carouselTrack\":\"Highlights_carouselTrack__S4Bja\",\"carouselSlide\":\"Highlights_carouselSlide__TLnxl\",\"slideContent\":\"Highlights_slideContent__frMQg\",\"slideImage\":\"Highlights_slideImage__8fVWe\",\"slideText\":\"Highlights_slideText__jCm6E\",\"slideTitle\":\"Highlights_slideTitle__LxSU8\",\"slideDescription\":\"Highlights_slideDescription__WLU5j\",\"carouselDots\":\"Highlights_carouselDots__b51F1\",\"dot\":\"Highlights_dot__uglQJ\",\"activeDot\":\"Highlights_activeDot__rcfYj\",\"carouselNav\":\"Highlights_carouselNav__pHR6k\",\"prevNav\":\"Highlights_prevNav__cJxmB\",\"nextNav\":\"Highlights_nextNav__uDvpv\",\"propertyCard\":\"Highlights_propertyCard__04SUS\",\"imageContainer\":\"Highlights_imageContainer__edSMN\",\"secondRow\":\"Highlights_secondRow__hfVf6\",\"navigationButton\":\"Highlights_navigationButton__tng4v\",\"prevButton\":\"Highlights_prevButton__RDEuP\",\"nextButton\":\"Highlights_nextButton__l3FNr\"};","import React, { useState, useRef, useEffect } from \"react\";\r\nimport styles from \"./index.module.css\";\r\nimport Utils from \"../../Util/webCofig\";\r\nimport ActionType from \"../../Store/actionType\";\r\nconst selectOneId = 6;   // HighlightsPage select2的分类ID\r\nconst selectOneId2 = 7;   // HighlightsPage select2的分类ID\r\n\r\nconst HighlightsPage = () => {\r\n    const [firstRowIndex, setFirstRowIndex] = useState(0);\r\n    const [textInit, setTextInit] = useState(null)\r\n    const [selectOne, setSelectOnea] = useState([])\r\n    const [selectTwo, setSelectTwo] = useState([])\r\n\r\n    // 新增：轮播自动切换相关状态\r\n    const [isAutoPlaying, setIsAutoPlaying] = useState(true);\r\n    const autoPlayRef = useRef(null);\r\n\r\n    const firstRowRef = useRef(null);\r\n\r\n    const onGetSelectOneData = () => {\r\n        Utils.get({\r\n            url: 'api_back/resources_text/',\r\n            params: {\r\n                purpose_obj: selectOneId,\r\n                page: 1,\r\n                pagesize: 100\r\n            },\r\n            actionType: ActionType().OnGetHighlightsPageSelectOneText,\r\n            Success: (data) => {\r\n                let contentDatab = data?.results?.[0] || ''\r\n                setTextInit(contentDatab)\r\n            }\r\n        })\r\n        Utils.get({\r\n            url: 'api_back/resources_file/',\r\n            params: {\r\n                purpose_obj: selectOneId,\r\n                page: 1,\r\n                pagesize: 100\r\n            },\r\n            actionType: ActionType().OnGetHighlightsPageSelectOneFile,\r\n            Success: (data) => {\r\n                let contentDatab = data?.results || []\r\n                setSelectOnea(contentDatab)\r\n            }\r\n        })\r\n        Utils.get({\r\n            url: 'api_back/resources_file/',\r\n            params: {\r\n                purpose_obj: selectOneId2,\r\n                page: 1,\r\n                pagesize: 100\r\n            },\r\n            actionType: ActionType().OnGetHighlightsPageSelectOneFile,\r\n            Success: (data) => {\r\n                let contentDatab = data?.results || []\r\n                setSelectTwo(contentDatab)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        onGetSelectOneData()\r\n        if (isAutoPlaying && selectOne.length > 0) {\r\n            autoPlayRef.current = setInterval(() => {\r\n                setFirstRowIndex(prev => (prev + 1) % selectOne.length);\r\n            }, 3000);\r\n        }\r\n\r\n        return () => {\r\n            if (autoPlayRef.current) {\r\n                clearInterval(autoPlayRef.current);\r\n            }\r\n        };\r\n    }, [isAutoPlaying, selectOne.length])\r\n\r\n\r\n    return (\r\n        <div className={styles.highlightsContainer}>\r\n            <div className={styles.header}>\r\n                <h1 className={styles.title}>{textInit?.text}</h1>\r\n                <p className={styles.subtitle}\r\n                    dangerouslySetInnerHTML={{ __html: textInit?.sub_text }}\r\n                />\r\n            </div>\r\n\r\n            <div className={styles.carouselContainer}>\r\n\r\n                <div className={styles.carouselContainer}>\r\n                    {/* 轮播组件 */}\r\n                    <div className={styles.carouselWrapper}>\r\n                        {console.log(selectTwo)}\r\n                        <div className={styles.carouselTrack}>\r\n                            {selectTwo.map((item, index) => (\r\n                                <div\r\n                                    key={index}\r\n                                    className={`${styles.carouselSlide} ${index === firstRowIndex ? styles.activeSlide : ''}`}\r\n                                    style={{ transform: `translateX(-${firstRowIndex * 100}%)` }}\r\n                                >\r\n                                    <div className={styles.slideContent}>\r\n                                        <div className={styles.slideImage}>\r\n                                            <img\r\n                                                src={Utils.returnFileUrl(item?.abs_file_obj_display)}\r\n                                                alt={item.remark || 'Slide image'}\r\n                                            />\r\n                                        </div>\r\n                                        <div className={styles.slideText}>\r\n                                            <h3 className={styles.slideTitle}>\r\n                                                {item.remark || '标题'}\r\n                                            </h3>\r\n                                            <p className={styles.slideDescription}>\r\n                                                {item.description || '文本文案描述等等等。'}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* 导航圆圈 */}\r\n                        <div className={styles.carouselDots}>\r\n                            {selectTwo.map((_, index) => (\r\n                                <button\r\n                                    key={index}\r\n                                    className={`${styles.dot} ${index === firstRowIndex ? styles.activeDot : ''}`}\r\n                                    onClick={() => setFirstRowIndex(index)}\r\n                                    aria-label={`Go to slide ${index + 1}`}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* 左右导航按钮 */}\r\n                        <button\r\n                            className={`${styles.carouselNav} ${styles.prevNav}`}\r\n                            onClick={() => setFirstRowIndex(firstRowIndex-1)}\r\n                            disabled={firstRowIndex===0}\r\n                            aria-label=\"Previous slide\"\r\n                        >\r\n                            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M15 18l-6-6 6-6\" />\r\n                            </svg>\r\n                        </button>\r\n                        <button\r\n                            className={`${styles.carouselNav} ${styles.nextNav}`}\r\n                            onClick={() => setFirstRowIndex(firstRowIndex+1)}\r\n                            aria-label=\"Next slide\"\r\n                            disabled={(selectTwo.length-1)===firstRowIndex}\r\n                        >\r\n                            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M9 18l6-6-6-6\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                {/* 第一行轮播 */}\r\n                {/* <div className={styles.rowContainer}>\r\n                    <button\r\n                        className={`${styles.navigationButton} ${styles.prevButton}`}\r\n                        onClick={prevSlideFirst}\r\n                        aria-label=\"第一行上一页\"\r\n                    >\r\n                        <svg className={styles.arrowIcon} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <path d=\"M15 18l-6-6 6-6\" />\r\n                        </svg>\r\n                    </button>\r\n\r\n                    <div\r\n                        ref={firstRowRef}\r\n                        className={styles.carouselRow}\r\n                        onMouseDown={(e) => handleMouseDown(e, 'first')}\r\n                        onMouseMove={handleMouseMove}\r\n                        onMouseUp={handleMouseUp}\r\n                        onMouseLeave={handleMouseUp}\r\n                        onTouchStart={(e) => handleTouchStart(e, 'first')}\r\n                        onTouchMove={handleTouchMove}\r\n                        onTouchEnd={handleTouchEnd}\r\n                        style={{ cursor: isDragging && activeRow === 'first' ? 'grabbing' : 'grab' }}\r\n                    >\r\n                        {infiniteProperties.map((property, index) => (\r\n                            <div key={`first-${property.id}-${index}`} className={`${styles.propertyCard} ${styles.propertyCardWidthOne}`}>\r\n                                <div className={styles.imageContainer}>\r\n                                    <img\r\n                                        src={Utils.returnFileUrl(property?.abs_file_obj_display)}\r\n                                        alt={property.remark}\r\n                                        className={styles.propertyImage}\r\n                                        loading=\"lazy\"\r\n                                        draggable={false}\r\n                                    />\r\n                                    <div className={styles.propertyName}>\r\n                                        {property.remark}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <button\r\n                        className={`${styles.navigationButton} ${styles.nextButton}`}\r\n                        onClick={nextSlideFirst}\r\n                        aria-label=\"第一行下一页\"\r\n                    >\r\n                        <svg className={styles.arrowIcon} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <path d=\"M9 18l6-6-6-6\" />\r\n                        </svg>\r\n                    </button>\r\n                </div> */}\r\n\r\n                {/* 第二行轮播 - 错位半个图片宽度 */}\r\n                {/* <div className={`${styles.rowContainer} ${styles.secondRowContainer}`}>\r\n                    <button\r\n                        className={`${styles.navigationButton} ${styles.prevButton}`}\r\n                        onClick={prevSlideSecond}\r\n                        aria-label=\"第二行上一页\"\r\n                    >\r\n                        <svg className={styles.arrowIcon} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <path d=\"M15 18l-6-6 6-6\" />\r\n                        </svg>\r\n                    </button>\r\n\r\n                    <div\r\n                        ref={secondRowRef}\r\n                        className={`${styles.carouselRow}`}\r\n                        onMouseDown={(e) => handleMouseDown(e, 'second')}\r\n                        onMouseMove={handleMouseMove}\r\n                        onMouseUp={handleMouseUp}\r\n                        onMouseLeave={handleMouseUp}\r\n                        onTouchStart={(e) => handleTouchStart(e, 'second')}\r\n                        onTouchMove={handleTouchMove}\r\n                        onTouchEnd={handleTouchEnd}\r\n                        style={{ cursor: isDragging && activeRow === 'second' ? 'grabbing' : 'grab' }}\r\n                    >\r\n                        {infiniteProperties1.map((property, index) => (\r\n                            <div key={`second-${property.id}-${index}`} className={`${styles.propertyCard}  ${styles.imageContainerTran}`}>\r\n                                <div className={`${styles.imageContainer}`}>\r\n                                    <img\r\n                                        src={Utils.returnFileUrl(property?.abs_file_obj_display)}\r\n                                        alt={property.remark}\r\n                                        className={styles.propertyImage}\r\n                                        loading=\"lazy\"\r\n                                        draggable={false}\r\n                                    />\r\n                                    <div className={styles.propertyName}>\r\n                                        {property.remark}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <button\r\n                        className={`${styles.navigationButton} ${styles.nextButton}`}\r\n                        onClick={nextSlideSecond}\r\n                        aria-label=\"第二行下一页\"\r\n                    >\r\n                        <svg className={styles.arrowIcon} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <path d=\"M9 18l6-6-6-6\" />\r\n                        </svg>\r\n                    </button>\r\n                </div> */}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HighlightsPage;"],"names":["HighlightsPage","firstRowIndex","setFirstRowIndex","useState","textInit","setTextInit","selectOne","setSelectOnea","selectTwo","setSelectTwo","isAutoPlaying","setIsAutoPlaying","autoPlayRef","useRef","useEffect","Utils","get","url","params","purpose_obj","page","pagesize","actionType","ActionType","OnGetHighlightsPageSelectOneText","Success","data","_data$results","contentDatab","results","OnGetHighlightsPageSelectOneFile","length","current","setInterval","prev","clearInterval","_jsxs","className","styles","highlightsContainer","children","header","_jsx","title","text","subtitle","dangerouslySetInnerHTML","__html","sub_text","carouselContainer","carouselWrapper","console","log","carouselTrack","map","item","index","concat","carouselSlide","activeSlide","style","transform","slideContent","slideImage","src","returnFileUrl","abs_file_obj_display","alt","remark","slideText","slideTitle","slideDescription","description","carouselDots","_","dot","activeDot","onClick","carouselNav","prevNav","disabled","viewBox","fill","stroke","strokeWidth","d","nextNav"],"sourceRoot":""}