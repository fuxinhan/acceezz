"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[411],{9411:(e,s,a)=>{a.r(s),a.d(s,{default:()=>z});var l=a(9379),r=a(5043);const n="UserInfo_UserInfoPage__e810E",i="UserInfo_layout__zZ4UQ",c="UserInfo_sideMenu__a3RFU",d="UserInfo_menuItem__OYe7J",o="UserInfo_active__VyX9j",m="UserInfo_arrow__y3enO",h="UserInfo_content__rGOx-",t="UserInfo_section__4H76F",x="UserInfo_headerBar__femp9",j="UserInfo_title__iQeDo",_="UserInfo_sub__AnKl3",p="UserInfo_link__ga2a4",f="UserInfo_profileTop__48vwc",u="UserInfo_leftIntro__iCeAX",N="UserInfo_nameBlock__7EIAT",v="UserInfo_name__f0+if",I="UserInfo_location__wQ8XV",A="UserInfo_fieldList__EjPt4",y="UserInfo_fieldRow__KGF-3",w="UserInfo_fieldLabel__6Dvvb",U="UserInfo_fieldValue__EvUrJ",b="UserInfo_primaryBtn__lyv1k",C="UserInfo_card__aT8Tp",g="UserInfo_metaGrid__Fdt8f",P="UserInfo_metaLabel__RoiiM",k="UserInfo_metaValue__kFyBp",E="UserInfo_blockTitle__ToraI",T="UserInfo_inlineForm__XlPlI",S="UserInfo_modalActions__y9IEl";var F=a(4400),O=a(5964),B=a(5e3),q=a(2703),M=a(4209),V=a(5367),D=a(9372),J=a(579);const L="profile",X="password",G="preferences",Q="membership";function R(){const e=function(){try{const e=localStorage.getItem("userInfo");return e?JSON.parse(e):null}catch(e){return null}}(),s=(null===e||void 0===e?void 0:e.user_info)||{};return{username:s.username||"Member",email:s.email||"member@example.com",avatar:s.cover||"",location:s.location||"\u2014",dateOfBirth:s.dateOfBirth||null,address:s.address||"",phone:s.phone||""}}const z=()=>{var e;const[s,a]=(0,r.useState)(L),[z,H]=(0,r.useState)(R()),[K,Y]=(0,r.useState)(!1),[Z,W]=(0,r.useState)(!1);(0,r.useEffect)(()=>{H(R())},[]);const $=()=>{localStorage.clear(),window.location.reload(!0)},ee=(0,r.useMemo)(()=>(0,J.jsxs)("aside",{className:c,children:[(0,J.jsxs)("div",{className:s===L?"".concat(d," ").concat(o):d,onClick:()=>a(L),children:[(0,J.jsx)("span",{children:"Profile"}),(0,J.jsx)("span",{className:m,children:"\u203a"})]}),(0,J.jsxs)("div",{className:s===X?"".concat(d," ").concat(o):d,onClick:()=>a(X),children:[(0,J.jsx)("span",{children:"Change password"}),(0,J.jsx)("span",{className:m,children:"\u203a"})]}),(0,J.jsxs)("div",{className:s===G?"".concat(d," ").concat(o):d,onClick:()=>a(G),children:[(0,J.jsx)("span",{children:"Preferences"}),(0,J.jsx)("span",{className:m,children:"\u203a"})]}),(0,J.jsxs)("div",{className:s===Q?"".concat(d," ").concat(o):d,onClick:()=>a(Q),children:[(0,J.jsx)("span",{children:"Membership application"}),(0,J.jsx)("span",{className:m,children:"\u203a"})]}),(0,J.jsxs)("div",{className:d,onClick:$,children:[(0,J.jsx)("span",{children:"Sign out"}),(0,J.jsx)("span",{className:m,children:"\u203a"})]})]}),[s]);return(0,J.jsx)("div",{className:n,children:(0,J.jsxs)("div",{className:i,children:[ee,(0,J.jsxs)("main",{className:h,children:[s===L&&(0,J.jsxs)("section",{className:t,children:[(0,J.jsxs)("header",{className:x,children:[(0,J.jsx)("h2",{className:j,children:"Profile"}),(0,J.jsxs)("p",{className:_,children:["Here you can edit your phone number and email address. This information is not visible to others. If you need to amend your personal details please get in touch. ",(0,J.jsx)("a",{className:p,href:"#",children:"Contact us"})]})]}),(0,J.jsx)("div",{className:f,children:(0,J.jsxs)("div",{className:u,children:[(0,J.jsx)(O.A,{size:80,src:z.avatar,children:null===(e=z.username)||void 0===e?void 0:e[0]}),(0,J.jsxs)("div",{className:N,children:[(0,J.jsx)("div",{className:v,children:z.username}),(0,J.jsxs)("div",{className:I,children:["Location: ",z.location||"\u2014"]})]})]})}),(0,J.jsxs)("div",{className:A,children:[(0,J.jsxs)("div",{className:y,children:[(0,J.jsx)("div",{className:w,children:"Email"}),(0,J.jsx)("div",{className:U,children:z.email})]}),(0,J.jsxs)("div",{className:y,children:[(0,J.jsx)("div",{className:w,children:"Date of birth"}),(0,J.jsx)("div",{className:U,children:z.dateOfBirth||"\u2014"})]}),(0,J.jsxs)("div",{className:y,children:[(0,J.jsx)("div",{className:w,children:"Address"}),(0,J.jsx)("div",{className:U,children:z.address||"\u2014"})]}),(0,J.jsxs)("div",{className:y,children:[(0,J.jsx)("div",{className:w,children:"Phone"}),(0,J.jsx)("div",{className:U,children:z.phone||"\u2014"})]})]}),(0,J.jsx)(B.Ay,{className:b,onClick:()=>Y(!0),children:"Edit information"}),(0,J.jsx)(q.A,{title:"Edit profile",open:K,onCancel:()=>Y(!1),footer:null,destroyOnClose:!0,children:(0,J.jsxs)(M.A,{layout:"vertical",initialValues:z,onFinish:e=>{const s=(0,l.A)((0,l.A)({},z),e);console.log("profile_update",s),F.Ay.success("\u5df2\u6253\u5370\u5230\u63a7\u5236\u53f0"),Y(!1),H(s=>(0,l.A)((0,l.A)({},s),e))},children:[(0,J.jsx)(M.A.Item,{label:"Email",name:"email",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}],children:(0,J.jsx)(V.A,{placeholder:"your@email.com"})}),(0,J.jsx)(M.A.Item,{label:"Date of birth",name:"dateOfBirth",children:(0,J.jsx)(D.A,{style:{width:"100%"}})}),(0,J.jsx)(M.A.Item,{label:"Address",name:"address",children:(0,J.jsx)(V.A,{placeholder:"Address"})}),(0,J.jsx)(M.A.Item,{label:"Phone",name:"phone",children:(0,J.jsx)(V.A,{placeholder:"Phone"})}),(0,J.jsxs)("div",{className:S,children:[(0,J.jsx)(B.Ay,{onClick:()=>Y(!1),children:"Cancel"}),(0,J.jsx)(B.Ay,{type:"primary",htmlType:"submit",children:"Save"})]})]})})]}),s===X&&(0,J.jsxs)("section",{className:t,children:[(0,J.jsx)("header",{className:x,children:(0,J.jsx)("h2",{className:j,children:"Change password"})}),(0,J.jsxs)(M.A,{layout:"vertical",className:C,onFinish:e=>{console.log("change_password",e),F.Ay.success("\u5df2\u6253\u5370\u5230\u63a7\u5236\u53f0"),W(!1)},children:[(0,J.jsx)(M.A.Item,{label:"Current password",name:"oldPassword",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f53\u524d\u5bc6\u7801"}],children:(0,J.jsx)(V.A.Password,{placeholder:"Current password"})}),(0,J.jsx)(M.A.Item,{label:"New password",name:"newPassword",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"}],children:(0,J.jsx)(V.A.Password,{placeholder:"New password"})}),(0,J.jsx)(M.A.Item,{label:"Confirm password",name:"confirmPassword",dependencies:["newPassword"],rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u5bc6\u7801"}],children:(0,J.jsx)(V.A.Password,{placeholder:"Confirm password"})}),(0,J.jsx)(B.Ay,{className:b,htmlType:"submit",children:"Update password"})]})]}),s===Q&&(0,J.jsxs)("section",{className:t,children:[(0,J.jsx)("header",{className:x,children:(0,J.jsx)("h2",{className:j,children:"Membership application"})}),(0,J.jsx)("div",{className:C,children:(0,J.jsxs)("div",{className:g,children:[(0,J.jsxs)("div",{children:[(0,J.jsx)("div",{className:P,children:"Tier"}),(0,J.jsx)("div",{className:k,children:"\u2014"})]}),(0,J.jsxs)("div",{children:[(0,J.jsx)("div",{className:P,children:"Join date"}),(0,J.jsx)("div",{className:k,children:"\u2014"})]}),(0,J.jsxs)("div",{children:[(0,J.jsx)("div",{className:P,children:"Expiry"}),(0,J.jsx)("div",{className:k,children:"\u2014"})]})]})}),(0,J.jsxs)("div",{className:C,children:[(0,J.jsx)("div",{className:E,children:"Propose a new member"}),(0,J.jsxs)(M.A,{layout:"inline",onFinish:e=>{console.log("propose_member",e),F.Ay.success("\u5df2\u6253\u5370\u5230\u63a7\u5236\u53f0")},className:T,children:[(0,J.jsx)(M.A.Item,{name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d"}],children:(0,J.jsx)(V.A,{placeholder:"Name"})}),(0,J.jsx)(M.A.Item,{name:"email",rules:[{required:!0,message:"\u8bf7\u8f93\u5165Email"}],children:(0,J.jsx)(V.A,{placeholder:"Email"})}),(0,J.jsx)(M.A.Item,{children:(0,J.jsx)(B.Ay,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})]}),s===G&&(0,J.jsxs)("section",{className:t,children:[(0,J.jsxs)("header",{className:x,children:[(0,J.jsx)("h2",{className:j,children:"Preferences"}),(0,J.jsx)("p",{className:_,children:"You can set your basic preferences here."})]}),(0,J.jsx)("div",{className:C,children:"No preferences yet."})]})]})]})})}}}]);
//# sourceMappingURL=411.863f9e19.chunk.js.map